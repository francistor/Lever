<br>
<ul class="nav nav-tabs" role="tablist">
    <!-- use data-target instead of href -->
    <li class="active"><a data-target="#basic" href="" role="tab" data-toggle="tab">Diameter Configuration</a></li>
    <li><a data-target="#peers" href="" role="tab" data-toggle="tab" style="cursor: pointer;">Diameter Peers</a></li>
    <li><a data-target="#realmroute" href="" role="tab" data-toggle="tab" >Realm Route Table</a></li>
    <li><a data-target="#radius" href="" role="tab" data-toggle="tab" style="cursor: pointer;">Radius Configuration</a></li>
    <li><a data-target="#radiusclients" href="" role="tab" data-toggle="tab" style="cursor: pointer;">Radius Clients</a></li>
</ul>

<br>

<!-- Tab panes -->
<div class="tab-content">
<!-- Basic Diameter Configuration -->
<div class="tab-pane active" id="basic">
    <form name="diameterConfigForm" role="form">
        <div class="row">
            <div class="col-md-12">
                <div class="col-md-6">
                    <div class="form-group" ng-class="{'has-error': diameterConfigForm.diameterHost.$invalid}">
                        <label>Diameter Host Name:</label>
                        <input name="diameterHost" type="text" class="form-control" ng-model="nodeConfig.diameter.diameterHost" ng-pattern="/.{3,}/">
                        <p class="help-block">Required field</p>
                    </div>
                    <div class="form-group" ng-class="{'has-error': diameterConfigForm.realm.$invalid}">
                        <label>Diameter Realm:</label>
                        <input name="diameterRealm" type="text" class="form-control" ng-model="nodeConfig.diameter.diameterRealm">
                    </div>
                    <div class="form-group" ng-class="diameterConfigForm.IPAddress.$invalid ? 'has-error': '' ">
                        <label>Listen Address:</label>
                        <input name="IPAddress" class="form-control" ng-pattern="/^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/" ng-model="nodeConfig.diameter.IPAddress">
                    </div>
                    <div class="form-group" ng-class="{'has-error': diameterConfigForm.port.$invalid}">
                        <label>Listen Port:</label>
                        <input name="port" class="form-control" ng-model="nodeConfig.diameter.port" ng-pattern="/[0-9]{4,5}/">
                    </div>
                    <div class="form-group">
                        <button type="button" class="btn btn-primary" ng-click="updateNodeConfig()">Submit changes
                            <i class="fa fa-check">
                            </i>
                        </button>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group" ng-class="{'has-error': diameterConfigForm.interval.$invalid}">
                        <label>Connection interval:</label>
                        <input name="interval" class="form-control" ng-model="nodeConfig.diameter.connectionInterval" ng-pattern="/[0-9]{1,9}/">
                        <p class="help-block">In milliseconds. Interval to try reconnect to peers</p>
                    </div>
                    <div class="form-group"  ng-class="{'has-error': diameterConfigForm.vendorId.$invalid}">
                        <label>Vendor Id:</label>
                        <input name="vendorId" class="form-control" ng-model="nodeConfig.diameter.vendorId" ng-pattern="/[0-9]{1,9}/">
                    </div>
                    <div class="form-group"  ng-class="{'has-error': diameterConfigForm.productName.$invalid}">
                        <label>Product Name:</label>
                        <input name="productName" type="text" class="form-control" ng-model="nodeConfig.diameter.productName">
                    </div>
                    <div class="form-group"  ng-class="{'has-error': diameterConfigForm.firmwareRevision.$invalid}">
                        <label>Firmware Revision:</label>
                        <input name="firmwareRevision" type="number" class="form-control" ng-model="nodeConfig.diameter.firmwareRevision" ng-pattern="/[0-9]{1,9}/">
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>

<!-- Diameter peers Peers -->
<div class="tab-pane" id="peers">
    <div class="accordion" id="peerList">
        <div class="accordion-group">
            <div class="panel panel-default" ng-repeat="peer in nodeConfig.diameter['peers']">
                <div class="panel-heading">
                    <div class="accordion-heading">
                        <h4 class="panel-title">
                            <a class="accordion-toggle mylink" data-toggle="collapse"
                               data-parent="#peerList" data-target="#peer_{{$index}}">
                                {{peer.name}}  </a>
                        </h4>
                    </div>
                </div>
                <div class="accordion-body collapse" id="peer_{{$index}}">
                    <div class="row">
                        <form name="peersConfigForm{{$index}}" role="form">
                            <div class="col-md-12">
                                <div class="panel-body">
                                    <div class="accordion-inner">
                                        <div class="col-md-6">
                                            <div class="form-group" ng-class="{'has-error': peersConfigForm{{$index}}.name.$invalid}">
                                                <label>Name:</label>
                                                <input name="name" class="form-control" ng-model="peer.name" ng-pattern="/.{3,}/">
                                                <p class="help-block">Required field</p>
                                            </div>
                                            <div class="form-group" ng-class="{'has-error': peersConfigForm{{$index}}.diameterHost.$invalid}">
                                                <label>Diameter Host Name:</label>
                                                <input name="diameterHost" class="form-control" ng-model="peer.diameterHost" ng-pattern="/.{3,}/">
                                                <p class="help-block">Required field</p>
                                            </div>
                                            <div class="form-group" ng-class="{'has-error': peersConfigForm{{$index}}.watchdogInterval.$invalid}">
                                                <label>Watchdog interval:</label>
                                                <input name="watchdogInterval" class="form-control" ng-model="peer.watchdogInterval" ng-pattern="/[0-9]*/">
                                                <p class="help-block">Milliseconds</p>
                                            </div>
                                            <button type="button" ng-click="deletePeer($index)" class="btn btn-danger btn-sm">Delete <i class="fa fa-times"></i></button>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group" ng-class="{'has-error': peersConfigForm{{$index}}.IPAddress.$invalid}">
                                                <label>IP Address:</label>
                                                <input name="IPAddress" class="form-control" ng-model="peer.IPAddress" placeholder="IPAddr[:port]" ng-pattern="/^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(:[0-9]{3,5}){0,1}$/">
                                                <p class="help-block">Required field</p>
                                            </div>
                                            <div class="form-group">
                                                <label>Connection Policy:</label>
                                                <select class="form-control" ng-model="peer.connectionPolicy">
                                                    <option value="passive">Accept connection from this peer</option>
                                                    <option value="active">Initiate connection to this peer</option>
                                                </select>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <br/>
            </div>
        </div>
    </div>
    <div class="form-group">
        <button type="button" class="btn btn-success" ng-click="addPeer()"> New Peer
            <i class="fa fa-plus">
            </i>
        </button>
        <button type="button" class="btn btn-primary" ng-click="updateNodeConfig()">Submit changes
            <i class="fa fa-check">
            </i>
        </button>
    </div>
</div>

<div class="tab-pane" id="realmroute">
    <div class="accordion" id="routeList">
        <div class="accordion-group">
            <div class="panel panel-default" ng-repeat="route in nodeConfig.diameter.routes">
                <div class="panel-heading">
                    <div class="accordion-heading">
                        <h4 class="panel-title">
                            <a class="accordion-toggle mylink" data-toggle="collapse"
                               data-parent="#routeList" data-target="#route_{{$index}}">
                                @{{route.realm}} {{route.applicationId}}  </a>
                        </h4>
                    </div>
                </div>
                <div class="accordion-body collapse" id="route_{{$index}}">
                    <div class="row">
                        <form name="routeForm{{$index}}" role="form">
                            <div class="col-md-12">
                                <div class="panel-body">
                                    <div class="accordion-inner">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>Realm:</label>
                                                <input name="realm" class="form-control" ng-model="route.realm">
                                                <p class="help-block">Required field. * means any realm</p>
                                            </div>
                                            <div class="form-group">
                                                <label>Peers:</label>
                                                <select class="form-control" multiple="multiple" ng-model="route.peers"
                                                        ng-options="peer.diameterHost as peer.diameterHost for peer in nodeConfig.diameter['peers']">
                                                </select>
                                                <p class="help-block">Multiple select</p>
                                            </div>
                                            <button type="button" ng-click="deleteRoute($index)" class="btn btn-danger btn-sm">
                                                Delete Route <i class="fa fa-times"></i></button>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>Application Id:</label>
                                                <input name="applicationId" class="form-control" ng-model="route.applicationId">
                                                <p class="help-block">Required field. * means any application-id</p>
                                            </div>
                                            <div class="form-group">
                                                <label>Peer selection: </label>
                                                <select class="form-control" ng-model="route.policy">
                                                    <option value="fixed">Fixed order</option>
                                                    <option value="random">Random balancing</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <br/>
            </div>
        </div>
    </div>
    <div class="form-group">
        <button type="button" class="btn btn-success" ng-click="addRoute()"> New Route
            <i class="fa fa-plus">
            </i>
        </button>
        <button type="button" class="btn btn-primary" ng-click="updateNodeConfig()">Submit changes
            <i class="fa fa-check">
            </i>
        </button>
    </div>
</div>


<div class="tab-pane" id="radius">
    <form name="radiusConfigForm" role="form">
        <div class="row">
            <div class="col-md-12">
                <div class="col-md-6">
                    <div class="form-group" ng-class="{'has-error': radiusConfigForm.authPort.$invalid}">
                        <label>Auth Port:</label>
                        <input name="authPort" class="form-control" ng-model="nodeConfig.radius.authPort" ng-pattern="/[0-9]{4,5}/">
                    </div>
                    <div class="form-group" ng-class="radiusConfigForm.IPAddress.$invalid ? 'has-error': '' ">
                        <label>Listen Address:</label>
                        <input name="IPAddress" class="form-control" ng-pattern="/^0$|^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/"
                               ng-model="nodeConfig.radius.IPAddress">
                    </div>
                    <div class="form-group">
                        <label>Base client port:</label>
                        <input name="baseClientPort" class="form-control" ng-pattern="/^[0-9]{4,5}$/"
                               ng-model="nodeConfig.radius.baseClientPort">
                    </div>
                    <div class="form-group">
                        <button type="button" class="btn btn-primary" ng-click="updateNodeConfig()">Submit changes
                            <i class="fa fa-check">
                            </i>
                        </button>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group" ng-class="{'has-error': radiusConfigForm.acctPort.$invalid}">
                        <label>Acct Port:</label>
                        <input name="acctPort" class="form-control" ng-model="nodeConfig.radius.acctPort" ng-pattern="/[0-9]{4,5}/">
                    </div>
                    <div class="form-group" ng-class="{'has-error': radiusConfigForm.numClientPorts.$invalid}">
                        <label>Number of client ports:</label>
                        <input name="numClientPorts" class="form-control" ng-model="nodeConfig.radius.numClientPorts" ng-pattern="/.+/">
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>

<div class="tab-pane" id="radiusclients">
    <div class="accordion" id="radiusClientList">
        <div class="accordion-group">
            <div class="panel panel-default" ng-repeat="client in nodeConfig.radius['clients']">
                <div class="panel-heading">
                    <div class="accordion-heading">
                        <h4 class="panel-title">
                            <a class="accordion-toggle mylink" data-toggle="collapse"
                               data-parent="#radiusClientList" data-target="#client_{{$index}}">
                                {{client.name}}  </a>
                        </h4>
                    </div>
                </div>
                <div class="accordion-body collapse" id="client_{{$index}}">
                    <div class="row">
                        <form name="radiusClientsForm{{$index}}" role="form">
                            <div class="col-md-12">
                                <div class="panel-body">
                                    <div class="accordion-inner">
                                        <div class="col-md-6">
                                            <div class="form-group" ng-class="{'has-error': radiusClientsForm{{$index}}.name.$invalid}">
                                                <label>Name:</label>
                                                <input name="name" class="form-control" ng-model="client.name" ng-pattern="/.{3,}/">
                                                <p class="help-block">Required field</p>
                                            </div>
                                            <div class="form-group" ng-class="{'has-error': radiusClientsForm{{$index}}.IPAddress.$invalid}">
                                                <label>IP Address:</label>
                                                <input name="IPAddress" class="form-control" ng-model="peer.IPAddress" placeholder="IPAddr" ng-pattern="/^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/">
                                                <p class="help-block">Required field</p>
                                            </div>
                                            <button type="button" ng-click="deleteClient($index)" class="btn btn-danger btn-sm">Delete <i class="fa fa-times"></i></button>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group" ng-class="{'has-error': radiusClientsForm{{$index}}.secret.$invalid}">
                                                <label>Secret:</label>
                                                <input name="secret" class="form-control" ng-model="client.secret" ng-pattern="/.{3,}/">
                                                <p class="help-block">Required field</p>
                                            </div>
                                            <div class="form-group" ng-class="{'has-error': radiusClientsForm{{$index}}.class.$invalid}">
                                                <label>Class:</label>
                                                <input name="class" class="form-control" ng-model="client.class" ng-pattern="/.{3,}/">
                                                <p class="help-block">Required field</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <br/>
            </div>
        </div>
    </div>
    <div class="form-group">
        <button type="button" class="btn btn-success" ng-click="addClient()"> New Radius Client
            <i class="fa fa-plus">
            </i>
        </button>
        <button type="button" class="btn btn-primary" ng-click="updateNodeConfig()">Submit changes
            <i class="fa fa-check">
            </i>
        </button>
    </div>
</div>

</div>


        
