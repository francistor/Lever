<form name="peersConfigForm" role="form">
<legend>Diameter Peers</legend>
<div class="row">
<div class="col-lg-12">
	<div class="col-lg-6">
	
	<div class="accordion" id="accordion2">
	
		<div class="accordion-group" ng-repeat="peer in diameterConfig['peers']">

			<div class="accordion-heading">
				<a class="accordion-toggle mylink" data-toggle="collapse" data-parent="#accordion2" data-target="#peer-{{peer.originHost}}" >
					<h4>{{peer.name}}</h4>
				</a>
			</div>

			<div class="accordion-body collapse" id="peer-{{peer.originHost}}">
				<div class="accordion-inner">

                        <div class="form-group" ng-class="{'has-error': peersConfigForm.name.$invalid}">
                            <label>Name:</label>
                            <input name="name" class="form-control" ng-model="peer.name" ng-pattern="/.{3,}/">
                            <p class="help-block">Required field</p>
                        </div>
						<div class="form-group" ng-class="{'has-error': peersConfigForm.originHost.$invalid}">
							<label>Diameter host name:</label>
							<input name="originHost" class="form-control" ng-model="peer.originHost" ng-pattern="/.{3,}/">
							<p class="help-block">Required field</p>
						</div>
						<div class="form-group" ng-class="{'has-error': peersConfigForm.IPAddress.$invalid}">
							<label>IP Address:</label>
							<input name="IPAddress" class="form-control" ng-model="peer.IPAddress" placeholder="IPAddr[:port]" ng-pattern="/^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\:[0-9]{4,6}){0,1}$/">
							<p class="help-block">Required field</p>
						</div>
						<div class="form-group">
							<label>Connection Policy:</label>
							<select class="form-control">
								<option value="passive">Accept connection from this peer</option>
								<option value="active">Initiate connection to this peer</option>
							</select>
						</div>
						<button type="button" ng-click="deletePeer(peer.name)" class="btn btn-danger btn-sm">Delete <i class="fa fa-times"></i></button>
				</div>
			</div>
		</div>

	</div>
	<br/>
	<div class="form-group">
		<button type="button" class="btn btn-success" ng-click="addPeer()"> New Peer
			<i class="fa fa-plus">
			</i>
		</button>
		<button type="button" class="btn btn-primary" ng-click="updateDiameterConfig()">Submit changes
			<i class="fa fa-check">
			</i>
		</button>
	</div>
	</div>
</div>
</div>
</form>